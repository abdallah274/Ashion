<div class="container my-4">
  <h2 class="mb-4">Women Products</h2>

  <div class="row">
    @for (product of filteredProducts; track product.id) {

      <div class="col-md-6 col-lg-3 col-xl-3 mb-4">
        <div class="card border-0 shadow-sm h-100"> 
          <div class="position-relative product-img-wrapper">
            <img [src]="product.images[0]" class="card-img-top w-100" alt="Product Image" />

            <div class="icon-overlay d-flex gap-2 justify-content-center">
              <button class="icon-circle" [routerLink]="['/details' , product.id]" routerLinkActive="router-link-active">
                <i class="fa-solid fa-up-right-and-down-left-from-center"></i>
              </button>
              <button class="icon-circle">
                <i class="fa-regular fa-heart"></i>
              </button>
              <button class="icon-circle">
                <i class="fa-solid fa-bag-shopping"></i>
              </button>
            </div>
          </div>

          <div class="card-body text-center">
            <h6 class="card-title mb-2">{{ product.category.name }}</h6>

            <div class="mb-2 text-warning">
              @for (num of [1,2,3,4,5].slice(0 , product.ratingsAverage); track $index) {
                <i class="fas fa-star small"></i>
              } 
              @if (product.ratingsAverage %1 !== 0) {
                <i class="fa-solid fa-star-half-stroke"></i>
              }
              <p>{{ product.ratingsAverage }}</p>
            </div>

            <h5 class="fw-bold text-dark">$ {{ product.price }}</h5>
          </div>

          <button class="btn btn-danger" (click)="addToCart(product.id)">add cart</button>
        </div>
      </div>
    }
  </div>
</div>
